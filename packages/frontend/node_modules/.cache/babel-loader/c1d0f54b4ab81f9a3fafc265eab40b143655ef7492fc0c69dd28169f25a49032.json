{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\rgilb\\\\Documents\\\\temp\\\\MINTIC 2022\\\\CICLO 4\\\\ProyectoCiclo4\\\\backend\\\\packages\\\\frontend\\\\src\\\\components\\\\fecha.jsx\";\nimport React from 'react';\nimport { Form, Button, Row, Container } from 'react-bootstrap';\nimport { Col } from 'react-bootstrap';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst LoginForm = _ref => {\n  let {\n    validated,\n    signInHandler,\n    inputChangeHandler,\n    user: {\n      u_email,\n      u_password\n    },\n    loginError,\n    errorMessage\n  } = _ref;\n  return /*#__PURE__*/_jsxDEV(Form, {\n    noValidate: true,\n    validated: validated,\n    onSubmit: signInHandler,\n    children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n      children: \"Welcome to Parking Management\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 8,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      variant: \"primary\",\n      type: \"submit\",\n      children: \"Sign In\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 10,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 7,\n    columnNumber: 9\n  }, this);\n};\n_c = LoginForm;\nclass Index extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      validated: false,\n      userDetail: {\n        u_id: '',\n        u_name: '',\n        u_email: '',\n        u_password: '',\n        u_type: ''\n      },\n      loginError: false,\n      errorMessage: ''\n    };\n  }\n  inputChangeHandler(e) {\n    let {\n      name,\n      value\n    } = e.currentTarget;\n    let {\n      userDetail: userData\n    } = this.state;\n    userData[name] = value;\n    this.setState({\n      userDetail: userData\n    });\n  }\n  signInHandler(e) {\n    e.preventDefault();\n    const form = e.currentTarget;\n    if (!form.checkValidity()) {\n      e.stopPropagation();\n      this.setState({\n        validated: true\n      });\n      return false;\n    }\n    let {\n      u_password: password,\n      u_email: email\n    } = this.state.userDetail;\n    let body = {\n      password,\n      email\n    };\n    var myHeaders = new Headers();\n    myHeaders.append(\"Content-Type\", \"application/json\");\n    var requestOptions = {\n      method: 'POST',\n      headers: myHeaders,\n      body: JSON.stringify(body)\n    };\n    fetch('http://localhost:3005/api/login', requestOptions).then(res => res.json()).then(data => {\n      console.log(data);\n      if (data.success) {\n        console.log(\" data \", data);\n        localStorage.setItem(\"loggedinUser\", JSON.stringify(data.users));\n        this.setState({\n          loginError: false,\n          errorMessage: ''\n        });\n        window.location.pathname = \"/dashboard\";\n      } else {\n        this.setState({\n          loginError: true,\n          errorMessage: data.message\n        });\n      }\n    }).catch(error => console.log('error', error));\n    ;\n  }\n  render() {\n    console.log(this.state);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(Container, {\n        children: /*#__PURE__*/_jsxDEV(Row, {\n          style: {\n            margin: 50\n          },\n          children: [/*#__PURE__*/_jsxDEV(Col, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            xs: \"6\",\n            md: \"6\",\n            children: /*#__PURE__*/_jsxDEV(LoginForm, {\n              validated: this.state.validated,\n              user: this.state.userDetail,\n              loginError: this.state.loginError,\n              errorMessage: this.state.errorMessage,\n              inputChangeHandler: this.inputChangeHandler.bind(this),\n              signInHandler: this.signInHandler.bind(this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 44\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Col, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }, this);\n  }\n}\nexport default Index;\nvar _c;\n$RefreshReg$(_c, \"LoginForm\");","map":{"version":3,"names":["React","Form","Button","Row","Container","Col","LoginForm","validated","signInHandler","inputChangeHandler","user","u_email","u_password","loginError","errorMessage","Index","Component","constructor","props","state","userDetail","u_id","u_name","u_type","e","name","value","currentTarget","userData","setState","preventDefault","form","checkValidity","stopPropagation","password","email","body","myHeaders","Headers","append","requestOptions","method","headers","JSON","stringify","fetch","then","res","json","data","console","log","success","localStorage","setItem","users","window","location","pathname","message","catch","error","render","margin","bind"],"sources":["C:/Users/rgilb/Documents/temp/MINTIC 2022/CICLO 4/ProyectoCiclo4/backend/packages/frontend/src/components/fecha.jsx"],"sourcesContent":["import React from 'react';\r\nimport { Form, Button, Row, Container } from 'react-bootstrap';\r\nimport { Col } from 'react-bootstrap';\r\n\r\nconst LoginForm = ({ validated, signInHandler, inputChangeHandler, user: { u_email, u_password }, loginError, errorMessage }) => {\r\n    return (\r\n        <Form noValidate validated={validated} onSubmit={signInHandler}>\r\n            <h4>Welcome to Parking Management</h4>\r\n\r\n            <Button variant=\"primary\" type=\"submit\">\r\n                Sign In\r\n            </Button>\r\n        </Form>\r\n    );\r\n}\r\nclass Index extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            validated: false,\r\n            userDetail: {\r\n                u_id: '',\r\n                u_name: '',\r\n                u_email: '',\r\n                u_password: '',\r\n                u_type: ''\r\n            },\r\n            loginError: false,\r\n            errorMessage: ''\r\n        }\r\n    }\r\n    inputChangeHandler(e) {\r\n        let { name, value } = e.currentTarget;\r\n        let { userDetail: userData } = this.state;\r\n        userData[name] = value;\r\n        this.setState({ userDetail: userData })\r\n    }\r\n    signInHandler(e) {\r\n\r\n        e.preventDefault();\r\n        const form = e.currentTarget;\r\n        if (!form.checkValidity()) {\r\n            e.stopPropagation();\r\n            this.setState({ validated: true });\r\n            return false;\r\n        }\r\n\r\n\r\n\r\n        let { u_password: password, u_email: email } = this.state.userDetail;\r\n        let body = {\r\n            password,\r\n            email\r\n        };\r\n        var myHeaders = new Headers();\r\n        myHeaders.append(\"Content-Type\", \"application/json\");\r\n        var requestOptions = {\r\n            method: 'POST',\r\n            headers: myHeaders,\r\n            body: JSON.stringify(body)\r\n        };\r\n        fetch('http://localhost:3005/api/login', requestOptions)\r\n            .then(res => res.json())\r\n            .then(data => {\r\n                console.log(data)\r\n\r\n                if (data.success) {\r\n                    console.log(\" data \", data);\r\n                    localStorage.setItem(\"loggedinUser\", JSON.stringify(data.users));\r\n                    this.setState({ loginError: false, errorMessage: '' });\r\n                    window.location.pathname = \"/dashboard\";\r\n                } else {\r\n                    this.setState({ loginError: true, errorMessage: data.message });\r\n                }\r\n\r\n            })\r\n            .catch(error => console.log('error', error));;\r\n\r\n\r\n    }\r\n    render() {\r\n        console.log(this.state)\r\n        return (\r\n            <div>\r\n                <Container>\r\n                    <Row style={{ margin: 50 }}>\r\n                        <Col></Col>\r\n                        <Col xs=\"6\" md=\"6\"><LoginForm validated={this.state.validated} user={this.state.userDetail} loginError={this.state.loginError} errorMessage={this.state.errorMessage} inputChangeHandler={this.inputChangeHandler.bind(this)} signInHandler={this.signInHandler.bind(this)}></LoginForm></Col>\r\n                        <Col></Col>\r\n                    </Row>\r\n                </Container>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport default Index;"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,IAAI,EAAEC,MAAM,EAAEC,GAAG,EAAEC,SAAS,QAAQ,iBAAiB;AAC9D,SAASC,GAAG,QAAQ,iBAAiB;AAAC;AAEtC,MAAMC,SAAS,GAAG,QAA+G;EAAA,IAA9G;IAAEC,SAAS;IAAEC,aAAa;IAAEC,kBAAkB;IAAEC,IAAI,EAAE;MAAEC,OAAO;MAAEC;IAAW,CAAC;IAAEC,UAAU;IAAEC;EAAa,CAAC;EACxH,oBACI,QAAC,IAAI;IAAC,UAAU;IAAC,SAAS,EAAEP,SAAU;IAAC,QAAQ,EAAEC,aAAc;IAAA,wBAC3D;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAAsC,eAEtC,QAAC,MAAM;MAAC,OAAO,EAAC,SAAS;MAAC,IAAI,EAAC,QAAQ;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAE9B;EAAA;IAAA;IAAA;IAAA;EAAA,QACN;AAEf,CAAC;AAAA,KAVKF,SAAS;AAWf,MAAMS,KAAK,SAASf,KAAK,CAACgB,SAAS,CAAC;EAChCC,WAAW,CAACC,KAAK,EAAE;IACf,KAAK,CAACA,KAAK,CAAC;IACZ,IAAI,CAACC,KAAK,GAAG;MACTZ,SAAS,EAAE,KAAK;MAChBa,UAAU,EAAE;QACRC,IAAI,EAAE,EAAE;QACRC,MAAM,EAAE,EAAE;QACVX,OAAO,EAAE,EAAE;QACXC,UAAU,EAAE,EAAE;QACdW,MAAM,EAAE;MACZ,CAAC;MACDV,UAAU,EAAE,KAAK;MACjBC,YAAY,EAAE;IAClB,CAAC;EACL;EACAL,kBAAkB,CAACe,CAAC,EAAE;IAClB,IAAI;MAAEC,IAAI;MAAEC;IAAM,CAAC,GAAGF,CAAC,CAACG,aAAa;IACrC,IAAI;MAAEP,UAAU,EAAEQ;IAAS,CAAC,GAAG,IAAI,CAACT,KAAK;IACzCS,QAAQ,CAACH,IAAI,CAAC,GAAGC,KAAK;IACtB,IAAI,CAACG,QAAQ,CAAC;MAAET,UAAU,EAAEQ;IAAS,CAAC,CAAC;EAC3C;EACApB,aAAa,CAACgB,CAAC,EAAE;IAEbA,CAAC,CAACM,cAAc,EAAE;IAClB,MAAMC,IAAI,GAAGP,CAAC,CAACG,aAAa;IAC5B,IAAI,CAACI,IAAI,CAACC,aAAa,EAAE,EAAE;MACvBR,CAAC,CAACS,eAAe,EAAE;MACnB,IAAI,CAACJ,QAAQ,CAAC;QAAEtB,SAAS,EAAE;MAAK,CAAC,CAAC;MAClC,OAAO,KAAK;IAChB;IAIA,IAAI;MAAEK,UAAU,EAAEsB,QAAQ;MAAEvB,OAAO,EAAEwB;IAAM,CAAC,GAAG,IAAI,CAAChB,KAAK,CAACC,UAAU;IACpE,IAAIgB,IAAI,GAAG;MACPF,QAAQ;MACRC;IACJ,CAAC;IACD,IAAIE,SAAS,GAAG,IAAIC,OAAO,EAAE;IAC7BD,SAAS,CAACE,MAAM,CAAC,cAAc,EAAE,kBAAkB,CAAC;IACpD,IAAIC,cAAc,GAAG;MACjBC,MAAM,EAAE,MAAM;MACdC,OAAO,EAAEL,SAAS;MAClBD,IAAI,EAAEO,IAAI,CAACC,SAAS,CAACR,IAAI;IAC7B,CAAC;IACDS,KAAK,CAAC,iCAAiC,EAAEL,cAAc,CAAC,CACnDM,IAAI,CAACC,GAAG,IAAIA,GAAG,CAACC,IAAI,EAAE,CAAC,CACvBF,IAAI,CAACG,IAAI,IAAI;MACVC,OAAO,CAACC,GAAG,CAACF,IAAI,CAAC;MAEjB,IAAIA,IAAI,CAACG,OAAO,EAAE;QACdF,OAAO,CAACC,GAAG,CAAC,QAAQ,EAAEF,IAAI,CAAC;QAC3BI,YAAY,CAACC,OAAO,CAAC,cAAc,EAAEX,IAAI,CAACC,SAAS,CAACK,IAAI,CAACM,KAAK,CAAC,CAAC;QAChE,IAAI,CAAC1B,QAAQ,CAAC;UAAEhB,UAAU,EAAE,KAAK;UAAEC,YAAY,EAAE;QAAG,CAAC,CAAC;QACtD0C,MAAM,CAACC,QAAQ,CAACC,QAAQ,GAAG,YAAY;MAC3C,CAAC,MAAM;QACH,IAAI,CAAC7B,QAAQ,CAAC;UAAEhB,UAAU,EAAE,IAAI;UAAEC,YAAY,EAAEmC,IAAI,CAACU;QAAQ,CAAC,CAAC;MACnE;IAEJ,CAAC,CAAC,CACDC,KAAK,CAACC,KAAK,IAAIX,OAAO,CAACC,GAAG,CAAC,OAAO,EAAEU,KAAK,CAAC,CAAC;IAAC;EAGrD;EACAC,MAAM,GAAG;IACLZ,OAAO,CAACC,GAAG,CAAC,IAAI,CAAChC,KAAK,CAAC;IACvB,oBACI;MAAA,uBACI,QAAC,SAAS;QAAA,uBACN,QAAC,GAAG;UAAC,KAAK,EAAE;YAAE4C,MAAM,EAAE;UAAG,CAAE;UAAA,wBACvB,QAAC,GAAG;YAAA;YAAA;YAAA;UAAA,QAAO,eACX,QAAC,GAAG;YAAC,EAAE,EAAC,GAAG;YAAC,EAAE,EAAC,GAAG;YAAA,uBAAC,QAAC,SAAS;cAAC,SAAS,EAAE,IAAI,CAAC5C,KAAK,CAACZ,SAAU;cAAC,IAAI,EAAE,IAAI,CAACY,KAAK,CAACC,UAAW;cAAC,UAAU,EAAE,IAAI,CAACD,KAAK,CAACN,UAAW;cAAC,YAAY,EAAE,IAAI,CAACM,KAAK,CAACL,YAAa;cAAC,kBAAkB,EAAE,IAAI,CAACL,kBAAkB,CAACuD,IAAI,CAAC,IAAI,CAAE;cAAC,aAAa,EAAE,IAAI,CAACxD,aAAa,CAACwD,IAAI,CAAC,IAAI;YAAE;cAAA;cAAA;cAAA;YAAA;UAAa;YAAA;YAAA;YAAA;UAAA,QAAM,eAC9R,QAAC,GAAG;YAAA;YAAA;YAAA;UAAA,QAAO;QAAA;UAAA;UAAA;UAAA;QAAA;MACT;QAAA;QAAA;QAAA;MAAA;IACE;MAAA;MAAA;MAAA;IAAA,QACV;EAEd;AACJ;AACA,eAAejD,KAAK;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}